@page "/settings/device"
@layout SettingsLayout

<PageTitle>Device Settings - Zapper</PageTitle>

<MudCard>
    <MudCardHeader>
        <CardHeaderContent>
            <MudText Typo="Typo.h6">Device Settings</MudText>
        </CardHeaderContent>
        <CardHeaderActions>
            <MudIcon Icon="@Icons.Material.Filled.Devices" />
        </CardHeaderActions>
    </MudCardHeader>
    <MudCardContent>
        <MudNumericField @bind-Value="_deviceTimeout" Label="Device Timeout (seconds)" Min="5" Max="60" Class="mb-3" />
        <MudNumericField @bind-Value="_retryAttempts" Label="Connection Retry Attempts" Min="1" Max="10" Class="mb-3" />
        <MudSlider @bind-Value="_irPowerLevel" Min="1" Max="10" Step="1" TickMarks="true" Color="Color.Primary" Class="mb-3">
            IR Power Level: @_irPowerLevel
        </MudSlider>
    </MudCardContent>
</MudCard>

@if (_isLoading)
{
    <MudProgressLinear Color="Color.Primary" Indeterminate="true" Class="mt-4" />
}
else
{
    <MudFab Color="Color.Primary" 
           StartIcon="@(_isSaving ? Icons.Material.Filled.HourglassEmpty : Icons.Material.Filled.Save)" 
           Label="@(_isSaving ? "Saving..." : "Save Settings")" 
           Class="mt-4" 
           OnClick="SaveSettings"
           Disabled="@_isSaving" />
}