@page "/settings/general"
@layout SettingsLayout

<PageTitle>General Settings - Zapper</PageTitle>

<MudCard>
    <MudCardHeader>
        <CardHeaderContent>
            <MudText Typo="Typo.h6">General Settings</MudText>
        </CardHeaderContent>
        <CardHeaderActions>
            <MudIcon Icon="@Icons.Material.Filled.Settings" />
        </CardHeaderActions>
    </MudCardHeader>
    <MudCardContent>
        <MudSwitch @bind-Value="_enableNotifications" Color="Color.Primary" Label="Enable Notifications" Class="mb-3" />
        <MudSwitch @bind-Value="_enableHapticFeedback" Color="Color.Primary" Label="Enable Haptic Feedback" Class="mb-3" />
        <MudSwitch @bind-Value="_enableAutoDiscovery" Color="Color.Primary" Label="Auto Device Discovery" Class="mb-3" />
        <MudSelect @bind-Value="_defaultActivity" Label="Default Activity" Class="mb-3">
            <MudSelectItem Value="@("watch-tv")">Watch TV</MudSelectItem>
            <MudSelectItem Value="@("movie-night")">Movie Night</MudSelectItem>
            <MudSelectItem Value="@("gaming")">Gaming</MudSelectItem>
            <MudSelectItem Value="@("music")">Music</MudSelectItem>
        </MudSelect>
    </MudCardContent>
</MudCard>

@if (_isLoading)
{
    <MudProgressLinear Color="Color.Primary" Indeterminate="true" Class="mt-4" />
}
else
{
    <MudFab Color="Color.Primary" 
           StartIcon="@(_isSaving ? Icons.Material.Filled.HourglassEmpty : Icons.Material.Filled.Save)" 
           Label="@(_isSaving ? "Saving..." : "Save Settings")" 
           Class="mt-4" 
           OnClick="SaveSettings"
           Disabled="@_isSaving" />
}