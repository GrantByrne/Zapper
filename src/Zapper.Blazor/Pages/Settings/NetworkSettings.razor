@page "/settings/network"
@layout SettingsLayout

<PageTitle>Network Settings - Zapper</PageTitle>

<MudCard>
    <MudCardHeader>
        <CardHeaderContent>
            <MudText Typo="Typo.h6">Network Settings</MudText>
        </CardHeaderContent>
        <CardHeaderActions>
            <MudIcon Icon="@Icons.Material.Filled.Wifi" />
        </CardHeaderActions>
    </MudCardHeader>
    <MudCardContent>
        <MudNumericField @bind-Value="_discoveryPort" Label="Discovery Port" Class="mb-3" />
        <MudNumericField @bind-Value="_apiTimeout" Label="API Timeout (ms)" Class="mb-3" />
        <MudSwitch @bind-Value="_enableSsdp" Color="Color.Primary" Label="Enable SSDP Discovery" Class="mb-3" />
    </MudCardContent>
</MudCard>

@if (_isLoading)
{
    <MudProgressLinear Color="Color.Primary" Indeterminate="true" Class="mt-4" />
}
else
{
    <MudFab Color="Color.Primary" 
           StartIcon="@(_isSaving ? Icons.Material.Filled.HourglassEmpty : Icons.Material.Filled.Save)" 
           Label="@(_isSaving ? "Saving..." : "Save Settings")" 
           Class="mt-4" 
           OnClick="SaveSettings"
           Disabled="@_isSaving" />
}